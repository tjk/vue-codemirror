{"version":3,"file":"vue-codemirror.cjs.js","sources":["../src/config.ts","../src/codemirror.ts","../src/events.ts","../src/props.ts","../src/component.ts","../src/index.ts"],"sourcesContent":["import { App, inject } from 'vue'\nimport { basicSetup } from 'codemirror'\nimport { ConfigProps } from './props'\n\nexport const DEFAULT_CONFIG: Readonly<Partial<ConfigProps>> = Object.freeze({\n  autofocus: false,\n  disabled: false,\n  indentWithTab: true,\n  tabSize: 2,\n  placeholder: '',\n  autoDestroy: true,\n  extensions: [basicSetup]\n})\n\nconst CONFIG_SYMBOL = Symbol('vue-codemirror-global-config')\nexport const injectGlobalConfig = (app: App, config?: ConfigProps) => {\n  app.provide(CONFIG_SYMBOL, config)\n}\n\nexport const useGlobalConfig = () => {\n  return inject<ConfigProps>(CONFIG_SYMBOL, {} as ConfigProps)\n}\n","import type { CSSProperties } from 'vue'\nimport { EditorState, EditorStateConfig, Compartment, Extension, StateEffect } from '@codemirror/state'\nimport { EditorView, EditorViewConfig, ViewUpdate, keymap, placeholder } from '@codemirror/view'\nimport { indentWithTab } from '@codemirror/commands'\nimport { indentUnit } from '@codemirror/language'\n\nexport interface CreateStateOptions extends EditorStateConfig {\n  onChange(doc: string, viewUpdate: ViewUpdate): void\n  onUpdate(viewUpdate: ViewUpdate): void\n  onFocus(viewUpdate: ViewUpdate): void\n  onBlur(viewUpdate: ViewUpdate): void\n}\n\nexport const createEditorState = ({ onUpdate, onChange, onFocus, onBlur, ...config }: CreateStateOptions) => {\n  return EditorState.create({\n    doc: config.doc,\n    selection: config.selection,\n    extensions: [\n      ...(Array.isArray(config.extensions) ? config.extensions : [config.extensions]),\n      EditorView.updateListener.of((viewUpdate) => {\n        // https://discuss.codemirror.net/t/codemirror-6-proper-way-to-listen-for-changes/2395/11\n        onUpdate(viewUpdate)\n        // doc changed\n        if (viewUpdate.docChanged) {\n          onChange(viewUpdate.state.doc.toString(), viewUpdate)\n        }\n        // focus state change\n        if (viewUpdate.focusChanged) {\n          viewUpdate.view.hasFocus ? onFocus(viewUpdate) : onBlur(viewUpdate)\n        }\n      })\n    ]\n  })\n}\n\nexport const createEditorView = (config: EditorViewConfig) => new EditorView({ ...config })\nexport const destroyEditorView = (view: EditorView) => view.destroy()\n\n// https://codemirror.net/examples/config/\n// https://github.com/uiwjs/react-codemirror/blob/22cc81971a/src/useCodeMirror.ts#L144\n// https://gist.github.com/s-cork/e7104bace090702f6acbc3004228f2cb\nexport const createEditorCompartment = (view: EditorView) => {\n  const compartment = new Compartment()\n  const run = (extension: Extension) => {\n    compartment.get(view.state)\n      ? view.dispatch({ effects: compartment.reconfigure(extension) }) // reconfigure\n      : view.dispatch({ effects: StateEffect.appendConfig.of(compartment.of(extension)) }) // inject\n  }\n  return { compartment, run }\n}\n\n// https://codemirror.net/examples/reconfigure/\nexport const createEditorExtensionToggler = (view: EditorView, extension: Extension) => {\n  const { compartment, run } = createEditorCompartment(view)\n  return (targetApply?: boolean) => {\n    const exExtension = compartment.get(view.state)\n    const apply = targetApply ?? exExtension !== extension\n    run(apply ? extension : [])\n  }\n}\n\nexport const getEditorTools = (view: EditorView) => {\n  // doc state\n  const getDoc = () => view.state.doc.toString()\n  const setDoc = (newDoc: string) => {\n    if (newDoc !== getDoc()) {\n      view.dispatch({\n        changes: {\n          from: 0,\n          to: view.state.doc.length,\n          insert: newDoc\n        }\n      })\n    }\n  }\n\n  // UX operations\n  const focus = () => view.focus()\n\n  // reconfigure extension\n  const { run: reExtensions } = createEditorCompartment(view)\n\n  // disabled editor\n  const toggleDisabled = createEditorExtensionToggler(view, [\n    EditorView.editable.of(false),\n    EditorState.readOnly.of(true)\n  ])\n\n  // https://codemirror.net/examples/tab/\n  const toggleIndentWithTab = createEditorExtensionToggler(view, keymap.of([indentWithTab]))\n\n  // tab size\n  // https://gist.github.com/s-cork/e7104bace090702f6acbc3004228f2cb\n  const { run: reTabSize } = createEditorCompartment(view)\n  const setTabSize = (tabSize: number) => {\n    reTabSize([EditorState.tabSize.of(tabSize), indentUnit.of(' '.repeat(tabSize))])\n  }\n\n  // phrases\n  // https://codemirror.net/examples/translate/\n  const { run: rePhrases } = createEditorCompartment(view)\n  const setPhrases = (phrases: Record<string, string>) => {\n    rePhrases([EditorState.phrases.of(phrases)])\n  }\n\n  // set editor's placeholder\n  const { run: rePlaceholder } = createEditorCompartment(view)\n  const setPlaceholder = (value: string) => {\n    rePlaceholder(placeholder(value))\n  }\n\n  // set style to editor element\n  // https://codemirror.net/examples/styling/\n  const { run: reStyle } = createEditorCompartment(view)\n  const setStyle = (style: CSSProperties = {}) => {\n    reStyle(EditorView.theme({ '&': { ...(style as any) } }))\n  }\n\n  return {\n    focus,\n    getDoc,\n    setDoc,\n    reExtensions,\n    toggleDisabled,\n    toggleIndentWithTab,\n    setTabSize,\n    setPhrases,\n    setPlaceholder,\n    setStyle\n  }\n}\n","import { EditorState } from '@codemirror/state'\nimport { EditorView, ViewUpdate } from '@codemirror/view'\n\nexport enum EventKey {\n  Change = 'change',\n  Update = 'update',\n  Focus = 'focus',\n  Blur = 'blur',\n  Ready = 'ready',\n  ModelUpdate = 'update:modelValue'\n}\n\nexport const editorEvents = {\n  // when content(doc) change only\n  [EventKey.Change]: (value: string, viewUpdate: ViewUpdate) => true,\n  // when codemirror state change\n  [EventKey.Update]: (viewUpdate: ViewUpdate) => true,\n  [EventKey.Focus]: (viewUpdate: ViewUpdate) => true,\n  [EventKey.Blur]: (viewUpdate: ViewUpdate) => true,\n  // when component mounted\n  [EventKey.Ready]: (payload: { view: EditorView; state: EditorState; container: HTMLDivElement }) => true\n}\n\nexport const modelUpdateEvent = {\n  [EventKey.ModelUpdate]: editorEvents[EventKey.Change]\n}\n\nexport const events = {\n  ...editorEvents,\n  ...modelUpdateEvent\n}\n\nexport type EditorEvents = typeof editorEvents\nexport type Events = typeof events\n","import type { CSSProperties } from 'vue'\nimport { PropType, ExtractPropTypes } from 'vue'\nimport { EditorStateConfig } from '@codemirror/state'\n\nconst UNDEFINED = void 0\nconst NonDefaultBooleanType = {\n  type: Boolean,\n  default: UNDEFINED\n}\n\nexport const configProps = {\n  autofocus: NonDefaultBooleanType,\n  disabled: NonDefaultBooleanType,\n  indentWithTab: NonDefaultBooleanType,\n  tabSize: Number,\n  placeholder: String,\n  style: Object as PropType<CSSProperties>,\n  autoDestroy: NonDefaultBooleanType,\n  phrases: Object as PropType<Record<string, string>>,\n  rawExtensions: NonDefaultBooleanType, // so we don't have to install / import codemirror into entry\n  // codemirror options\n  root: Object as PropType<ShadowRoot | Document>,\n  extensions: Array as PropType<EditorStateConfig['extensions']>,\n  selection: Object as PropType<EditorStateConfig['selection']>\n}\n\nexport const modelValueProp = {\n  modelValue: {\n    type: String,\n    default: ''\n  }\n}\n\nexport const props = {\n  ...configProps,\n  ...modelValueProp\n}\n\nexport type ConfigProps = ExtractPropTypes<typeof configProps>\nexport type Props = ExtractPropTypes<typeof props>\nexport type PropKey = keyof Props\n","import { defineComponent, shallowRef, computed, watch, toRaw, onMounted, onBeforeUnmount, h } from 'vue'\nimport { EditorState } from '@codemirror/state'\nimport { EditorView } from '@codemirror/view'\nimport { createEditorState, createEditorView, destroyEditorView, getEditorTools } from './codemirror'\nimport { useGlobalConfig, DEFAULT_CONFIG } from './config'\nimport { props, ConfigProps, Props } from './props'\nimport { events, EventKey } from './events'\n\nexport default defineComponent({\n  name: 'VueCodemirror',\n  props: { ...props },\n  emits: { ...events },\n  setup(props: Props, context) {\n    const container = shallowRef<HTMLDivElement>()\n    const state = shallowRef<EditorState>()\n    const view = shallowRef<EditorView>()\n\n    const defaultConfig: ConfigProps = {\n      ...DEFAULT_CONFIG,\n      ...useGlobalConfig()\n    }\n\n    const config = computed<ConfigProps>(() => {\n      const result = {} as Required<ConfigProps>\n      Object.keys(toRaw(props)).forEach((key: any) => {\n        if (key !== 'modelValue') {\n          // @ts-ignore\n          // MARK: ensure access to `prop[key]` original object\n          result[key] = props[key] ?? defaultConfig[key]\n        }\n      })\n      return result\n    })\n\n    onMounted(() => {\n      state.value = createEditorState({\n        doc: props.modelValue,\n        selection: config.value.selection,\n        // The extensions are split into two parts, global and component prop.\n        // Only the global part is initialized here.\n        // The prop part is dynamically reconfigured after the component is mounted.\n        extensions: props.rawExtensions ? [] : defaultConfig.extensions ?? [],\n        onFocus: (viewUpdate) => context.emit(EventKey.Focus, viewUpdate),\n        onBlur: (viewUpdate) => context.emit(EventKey.Blur, viewUpdate),\n        onUpdate: (viewUpdate) => context.emit(EventKey.Update, viewUpdate),\n        onChange: (newDoc, viewUpdate) => {\n          if (newDoc !== props.modelValue) {\n            context.emit(EventKey.Change, newDoc, viewUpdate)\n            context.emit(EventKey.ModelUpdate, newDoc, viewUpdate)\n          }\n        }\n      })\n\n      view.value = createEditorView({\n        state: state.value,\n        parent: container.value!,\n        root: config.value.root\n      })\n\n      const editorTools = getEditorTools(view.value)\n\n      // watch prop.modelValue\n      watch(\n        () => props.modelValue,\n        (newValue) => {\n          if (newValue !== editorTools.getDoc()) {\n            editorTools.setDoc(newValue)\n          }\n        }\n      )\n\n      // watch prop.extensions\n      watch(\n        () => props.extensions,\n        (extensions) => editorTools.reExtensions(extensions || []),\n        { immediate: true }\n      )\n\n      // watch prop.disabled\n      watch(\n        () => config.value.disabled,\n        (disabled) => editorTools.toggleDisabled(disabled),\n        { immediate: true }\n      )\n\n      // watch prop.indentWithTab\n      watch(\n        () => config.value.indentWithTab,\n        (iwt) => editorTools.toggleIndentWithTab(iwt),\n        { immediate: true }\n      )\n\n      // watch prop.tabSize\n      watch(\n        () => config.value.tabSize,\n        (tabSize) => editorTools.setTabSize(tabSize!),\n        { immediate: true }\n      )\n\n      // watch prop.phrases\n      watch(\n        () => config.value.phrases,\n        (phrases) => editorTools.setPhrases(phrases || {}),\n        { immediate: true }\n      )\n\n      // watch prop.placeholder\n      watch(\n        () => config.value.placeholder,\n        (placeholder) => editorTools.setPlaceholder(placeholder!),\n        { immediate: true }\n      )\n\n      // watch prop.style\n      watch(\n        () => config.value.style,\n        (style) => editorTools.setStyle(style),\n        { immediate: true }\n      )\n\n      // immediate autofocus\n      if (config.value.autofocus) {\n        editorTools.focus()\n      }\n\n      context.emit(EventKey.Ready, {\n        state: state.value!,\n        view: view.value!,\n        container: container.value!\n      })\n    })\n\n    onBeforeUnmount(() => {\n      if (config.value.autoDestroy && view.value) {\n        destroyEditorView(view.value)\n      }\n    })\n\n    return () => {\n      return h('div', {\n        class: 'v-codemirror',\n        style: { display: 'contents' },\n        ref: container\n      })\n    }\n  }\n})\n","import type { Plugin } from 'vue'\nimport type { Props } from './props'\nimport { injectGlobalConfig } from './config'\nimport Component from './component'\n\nexport type { Props } from './props'\nexport type { Events } from './events'\nexport { DEFAULT_CONFIG } from './config'\n\nexport const Codemirror = Component\nexport const install: Plugin = (app, defaultConfig?: Props) => {\n  app.component(Component.name, Component)\n  app.component('Codemirror', Component)\n  injectGlobalConfig(app, defaultConfig)\n}\n\nexport default {\n  Codemirror,\n  install\n}\n"],"names":["Object","defineProperty","exports","value","vue","require","codemirror","state","view","commands","language","DEFAULT_CONFIG","freeze","autofocus","disabled","indentWithTab","tabSize","placeholder","autoDestroy","extensions","basicSetup","CONFIG_SYMBOL","Symbol","const","EventKey","createEditorState","_a","onUpdate","onChange","onFocus","onBlur","config","__rest","EditorState","create","doc","selection","Array","isArray","concat","EditorView","updateListener","of","viewUpdate","docChanged","toString","focusChanged","hasFocus","createEditorView","assign","createEditorCompartment","compartment","Compartment","run","extension","get","dispatch","effects","reconfigure","StateEffect","appendConfig","createEditorExtensionToggler","ref","targetApply","exExtension","getEditorTools","getDoc","reExtensions","toggleDisabled","editable","readOnly","toggleIndentWithTab","keymap","reTabSize","rePhrases","rePlaceholder","reStyle","focus","newDoc","changes","from","to","length","insert","indentUnit","repeat","phrases","style","theme","NonDefaultBooleanType","type","Boolean","default","configProps","Number","String","rawExtensions","root","modelValueProp","modelValue","props","editorEvents","Change","Update","Focus","Blur","Ready","payload","modelUpdateEvent","ModelUpdate","events","Component","defineComponent","name","emits","setup","context","container","shallowRef","defaultConfig","inject","computed","result","keys","toRaw","forEach","key","onMounted","emit","parent","editorTools","watch","newValue","setDoc","immediate","iwt","setTabSize","setPhrases","setPlaceholder","setStyle","onBeforeUnmount","destroy","destroyEditorView","h","class","display","Codemirror","install","app","component","provide","injectGlobalConfig","index"],"mappings":"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"}